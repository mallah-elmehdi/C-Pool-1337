#include <stdlib.h>
#include <stdio.h>

int		*ft_ctoi(char *str)
{
	int i;
	int *tabint;
	int supa10;
	int j;

	tabint = (int*) malloc(1000 * sizeof(int));
	i = 0;
	j = 0;
	while (str[i] != '\0')
	{
		supa10 = 0;
		if (str[i] >= 48 && str[i] <= 57)
		{
			if (str[i + 1] >= 48 && str[i + 1] <= 57)
			{
				while (str[i+1] >= 48 && str[i+1] <= 57)
				{
					supa10 = (supa10*10) + ((str[i]-48)*10);
					i++;
				}
				tabint[j] = supa10 + (str[i]-48);
				j++;
				i++;
			}
			else
			{
				tabint[j] = str[i] - 48;
				j++;
				i++;
			}
		}
		else
		{
			tabint[j] = '.';
			i++;
			j++;
	}
	free(tabint);
	return(tabint);
}

/*char	*arith_operator(char *str)
{
	int i;
	int j;
	char *ope_arr;
	
	i = 0;
	j = 0;
	ope_arr = (char*) malloc(1000 * sizeof(char));
	while(str[i] != '\0')
	{
		if (str[i] == 37 || str[i] == 40 || str[i] == 41 || str[i] == 42 || str[i] == 43 || str[i] == 45 || str[i] == 47 || str[i] == 61)
		{
			ope_arr[j] = str[i];
			j++;
		}
		i++;
	}
	free(ope_arr);
	return(ope_arr);
}*/

int main()
{
	unsigned long  j = 0;
	int *ptr;
	int a;
	char *opr;
	char str[] = "3 + 42 * (1 - 2 / (3 + 4) - 1 % 21) + 1";
	ptr = ft_ctoi(str);
	while(j <= sizeof(ptr))
	{
		printf("%d  ", ptr[j]);
		j++;
	}
	j = 0;
	printf("\n");
	a = cal(ptr, str);
	printf("%d ", a);
}
